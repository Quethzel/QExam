<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href="img/icon.png" type="image/png" />	
	<title>QEx</title>
	<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="vendors/bootstrap-3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="css/exam.css">
	<!-- <style type="text/css">
		body {
			background-color: #1D1D1D;
			color: #CCC;
		}
		.input-group {
			border: 1px solid #333;
			border-radius: 5px;
			background-color: transparent;
		}
		.input-group button, .input-group input {
			background-color: transparent;
		}
		.input-group button:hover {
			color: #FFF;
		}
	</style> -->
</head>
<body>
	<div class="container">
		<div id="menu">
			<a href="#" onclick="showTableResults();"><samp>show exam results</samp></a>
		</div>

		<div id="sign-in">
			<samp>Basic JavaScript Skills</samp><hr/>
			<div class="input-group">
				<input type="text" id="user" class="form-control" placeholder="nombre" autofocus>
				<span class="input-group-btn">
					<button type="button" id="starButton" class="btn btn-secondary" onclick="starExam();">Comenzar</button>
				</span>
			</div>
		</div>

		<div id="results" style="margin-top:60px;">
			<div id="no-more-tables" style="overflow-y:auto; max-height:400px;">
				<table class="table table-striped table-hover table-condensed cf" style="margin-bottom:0;">
					<thead>
						<tr>
							<th>User</th>
							<th>Exam</th>
							<th>Score</th>
						</tr>
					</thead>
					<tbody id="row-results"></tbody>
				</table>
			</div>
		</div>

		<div id="exam">
			<h1 id="examTitle"></h1>
			<samp id="examInfo"></samp>
			<samp id="counterQuestion"></samp>
			<div id="questionContainer"></div>
			<div id="codeContainer"></div>
			<div id="choiceContainer"></div>
			<div id="controlContainer"></div>
			<div id="resultContainer"></div>
			<div id="extraContainer"></div>
		</div>
	</div>
	<footer class="footer">
		<div class="container">
			<p class="text-muted">made with coffee <i class="fa fa-coffee"></i> by <a href="http://www.iamQuethzel.com">Quethzel DÃ­az</a></p>
		</div>
	</footer>
	<script src="https://www.gstatic.com/firebasejs/3.9.0/firebase.js"></script>
	<script type="text/javascript" src="vendors/jquery-3.2.1.min.js"></script>
	<script type="text/javascript" src="vendors/bootstrap-3.3.7/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/exam.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
			$('#exam').css('display', 'none');
			$('#results').css('display', 'none');

			$('#user').keyup(function(e) {
				if(e.keyCode == 13)
					$('#starButton').click();
			});
		});

		function starExam() {
			$('#sign-in').css('display', 'none');
			$('#exam').css('display', 'block');
			$('#menu').css('display', 'none');

			var userProfile = { name: $("#user").val() };

			/* implementarion of QEx */
			QEx.ExamModule.init();
			QEx.user.setProfile(userProfile);
		}

		function showTableResults() {
			var initDisplay = "block";
			var endDisplay = "none";
			var displayText = "Show Exam Results";

			if($('#results').css('display') == "none") {
				endDisplay = "block";
				initDisplay = "none";
				displayText = "Hide Exam Results";
			}
			$('#sign-in').css('display', initDisplay);
			$('#exam').css('display', initDisplay);
			$('#results').css('display', endDisplay);
			$('#menu a samp').text(displayText);

			QEx.firedb.getAllResults();
		}
	</script>
</body>
</html>